"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["commits"],{33938:(e,t,n)=>{var r,i=n(86233),a=n(79840),s=n(74848),o=n(89504),l=n(86584),d=n(82897),c=n(96540);function m(e){let t=(0,d.B)(),[n]=(0,c.useState)(t?.repo),[r]=(0,c.useState)(t?.currentUser);return(0,s.jsx)(l.Q,{user:r,children:(0,s.jsx)(o.d,{repository:n,children:e.children})})}try{m.displayName||(m.displayName="App")}catch{}var u=n(36220),f=n(76515),h=n(88234),p=n(83056),x=n(83028),g=n(97156),y=n(90600),j=n(95140),_=n(69144),b=n(93653),v=n(18312),w=n(84116),C=n(56226),N=n(15820),S=n(22084),D=n(13894),I=n(92979),k=n(59857),A=n(85053),L=n(86519),T=n(55847),E=n(80577),R=n(83808),F=n(87213),P=n(47373),B=n(94034),H=n(11732),M=n(29367),U=n(15941),O=n(7512),V=n(30729),$=n(94153);function W({data:e}){let t=(0,o.t)();return e.loading||0!==e.branches.length?(0,s.jsxs)("div",{className:"d-flex flex-items-center flex-wrap fgColor-muted border-bottom p-3 gap-1",children:[(0,s.jsx)(V.A,{className:"mr-1",icon:k.GitBranchIcon}),e.loading?(0,s.jsx)(I.O,{width:"60px",variant:"rounded",height:"22px"}):e.branches.map((n,r)=>(0,s.jsxs)("div",{children:[(0,s.jsx)(z,{branch:n,repo:t}),r!==e.branches.length-1?(0,s.jsx)("span",{className:"ml-1 user-select-none",children:"+"}):null]},n.branch))]}):null}function z({branch:e,repo:t}){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)($.A,{className:"mx-1",href:(0,p.WJ)({owner:t.ownerLogin,repo:t.name,branch:e.branch}),children:e.branch}),e.prs.length>0?(0,s.jsxs)(s.Fragment,{children:["(",e.prs.map((t,n)=>(0,s.jsxs)(c.Fragment,{children:[(0,s.jsx)(q,{pullRequest:t}),n!==e.prs.length-1?(0,s.jsx)(s.Fragment,{children:",\xa0"}):null]},`pr-${t.repo.ownerLogin}-${t.repo.name}-${t.number}`)),")"]}):null]})}function q({pullRequest:e}){let{repo:t,number:n,showPrefix:r}=e,i=r?`${t.ownerLogin}/${t.name}`:"";return(0,s.jsxs)(L.A,{href:(0,p.oD)({repo:t,number:n}),className:"fgColor-muted","data-hovercard-url":(0,p.i9)({owner:t.ownerLogin,repo:t.name,pullRequestNumber:n}),children:[i,"#",n]})}try{W.displayName||(W.displayName="CommitBranchInfo")}catch{}try{z.displayName||(z.displayName="BranchFragment")}catch{}try{q.displayName||(q.displayName="PullRequestLink")}catch{}var G=n(87330),Q=n(17909),K=n(86079);function X({data:e}){let t=(0,o.t)();if(0===e.tags.length)return null;let n=e.tags.length>2&&e.tags.length<25,r=e.tags.length>=25;return(0,s.jsxs)("div",{className:"d-flex flex-items-center flex-wrap border-bottom p-3 gap-1",children:[(0,s.jsx)(V.A,{className:"mr-2",icon:k.TagIcon}),(0,s.jsx)(L.A,{href:(0,p.cp)({owner:t.ownerLogin,repo:t.name,tag:e.tags[0]}),className:"fgColor-default",children:e.tags[0]}),n?(0,s.jsx)(Y,{tags:e.tags,repo:t}):null,r?(0,s.jsx)(Z,{tags:e.tags,repo:t}):null,e.tags.length>1?(0,s.jsx)(L.A,{href:(0,p.cp)({owner:t.ownerLogin,repo:t.name,tag:e.tags[e.tags.length-1]}),className:"fgColor-muted",children:e.tags[e.tags.length-1]}):null]})}function Y({tags:e,repo:t}){let[n,r]=(0,c.useState)(!1),i=(0,c.useRef)(null),a=(0,c.useCallback)(()=>{r(!0),requestAnimationFrame(()=>i.current?.focus())},[]);return n?(0,s.jsx)(s.Fragment,{children:e.slice(1,e.length-1).map((e,n)=>(0,s.jsx)(L.A,{ref:0===n?i:null,href:(0,p.cp)({owner:t.ownerLogin,repo:t.name,tag:e}),className:"fgColor-muted mx-1",children:e},e))}):(0,s.jsx)(G.K,{"aria-label":"Show more tags",unsafeDisableTooltip:!0,icon:k.KebabHorizontalIcon,size:"small",variant:"invisible",onClick:a})}function Z({tags:e,repo:t}){let[n,r]=(0,c.useState)(!1),i=(0,c.useRef)(null);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(G.K,{"aria-label":"Show all tags",unsafeDisableTooltip:!0,icon:k.KebabHorizontalIcon,size:"small",variant:"invisible",onClick:()=>r(!0),ref:i}),n&&(0,s.jsx)(K.l,{title:`${e.length} tags`,onClose:()=>r(!1),returnFocusRef:i,width:"medium",height:e.length>=12?"small":"auto",renderBody:()=>(0,s.jsx)(Q.l,{className:"overflow-y-auto py-2","data-testid":"tag-dialog-list",children:e.map(e=>(0,s.jsx)(Q.l.LinkItem,{href:(0,p.cp)({owner:t.ownerLogin,repo:t.name,tag:e}),children:e},e))})})]})}try{X.displayName||(X.displayName="CommitTagInfo")}catch{}try{Y.displayName||(Y.displayName="ExpandedTags")}catch{}try{Z.displayName||(Z.displayName="CommitTagsDialog")}catch{}var J=n(65481);function ee(){return(0,s.jsxs)(J.A,{variant:"warning",className:"mb-4",children:[(0,s.jsx)(V.A,{icon:k.AlertIcon,className:"mr-2"}),(0,s.jsx)("span",{className:"overflow-hidden",children:"This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository."})]})}try{ee.displayName||(ee.displayName="SpoofedCommitWarningBanner")}catch{}var et=n(75177),en=n(1719);function er({oid:e,repo:t}){return(0,en.N)(e,t.id)?(0,s.jsxs)(J.A,{className:"mb-4",children:[(0,s.jsx)(et.A,{as:"img",src:"/images/modules/commit/flowers@2x.png",alt:"flower image",className:"mr-4 mt-1 float-left",sx:{width:"88px",height:"49px"}}),(0,s.jsx)("h2",{children:"Thanks for everything, Jim."}),(0,s.jsx)("p",{children:"We will miss you."})]}):null}try{er.displayName||(er.displayName="WeirichCommitBanner")}catch{}let ei={badgeLabel:"Alpha",feedbackLink:"https://github-grid.enterprise.slack.com/archives/C0357UQ03KN"},ea={badgeLabel:"Beta",feedbackLink:"https://gh.io/diff-refresh-feedback"};function es({commit:e,commitInfo:t}){let{feedbackLink:n,badgeLabel:r}=(0,N.u)("diff_ux_refresh_beta")?ea:ei,i=(0,o.t)(),{helpUrl:a}=(0,R.D)(),l=(0,F.I)(`${(0,p.$Q)({owner:i.ownerLogin,repo:i.name,commitish:e.oid})}/deferred_commit_data`),d="";try{d=l?.statusCheckStatus?.short_text?.split("checks")[0]?.trim()||""}catch{}return(0,s.jsxs)("div",{children:[t.loading||0!==t.branches.length?null:(0,s.jsx)(ee,{}),(0,s.jsx)(er,{oid:e.oid,repo:i}),(0,s.jsxs)(O.Z,{children:[(0,s.jsxs)("div",{className:"d-flex flex-column bgColor-muted p-3 border-bottom rounded-top-2",children:[(0,s.jsxs)("div",{className:"d-flex flex-justify-end flex-md-justify-between flex-column-reverse flex-md-row gap-2",children:[(0,s.jsxs)("div",{className:"d-flex flex-items-center flex-wrap gap-2",children:[(0,s.jsx)(S.yx,{html:e.shortMessageMarkdown,className:"markdown-title f4 text-semibold"}),(0,s.jsx)(B.d,{oid:e.oid,status:l?.statusCheckStatus?.state,descriptionString:d,repo:i})]}),(0,s.jsxs)("div",{className:"d-flex gap-2 flex-items-center flex-justify-between flex-md-justify-end",children:[(0,s.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[(0,s.jsx)(A.A,{className:"v-align-middle",variant:"success",children:r}),(0,s.jsx)(L.A,{href:n,target:"_blank",rel:"noopener noreferrer",className:"no-wrap",children:"Give feedback"})]}),(0,s.jsx)(E.m,{text:"Browse the repository at this point in the history",children:(0,s.jsx)(T.Q,{as:L.A,href:(0,p.IO)({repo:i,action:"tree",commitish:e.oid}),leadingVisual:k.FileCodeIcon,children:"Browse files"})})]})]}),e.bodyMessageHtml&&(0,s.jsx)(S.yx,{html:e.bodyMessageHtml,className:"ws-pre-wrap extended-commit-description-container pt-2 f6 fgColor-muted wb-break-word text-mono"})]}),(0,s.jsx)(W,{data:t}),(0,s.jsx)(X,{data:t}),(0,s.jsxs)("div",{className:"d-flex flex-justify-between p-3 gap-2 flex-column flex-md-row",children:[(0,s.jsx)(H.j,{commit:e,repo:i,settings:{fontColor:"fg.default",avatarSize:20,fontWeight:"bold"},children:l?l.signatureInformation?(0,s.jsx)("div",{className:"pl-2",children:(0,s.jsx)(D.h,{commitOid:e.oid,hasSignature:!0,verificationStatus:l.verifiedStatus,signature:{helpUrl:a,...l.signatureInformation}})}):null:(0,s.jsx)(I.O,{className:"ml-2",variant:"rounded",width:M._e})}),(0,s.jsxs)("pre",{className:"color-fg-muted d-flex flex-items-center",children:[`${e.parents.length} parent${e.parents.length>1||0===e.parents.length?"s":""} `,e.parents.map((e,t)=>(0,s.jsxs)(c.Fragment,{children:[0!==t?" + ":"",(0,s.jsx)(L.A,{to:(0,p.$Q)({owner:i.ownerLogin,repo:i.name,commitish:e})+new URL(g.fV.origin+g.fV.pathname+g.fV.search,g.fV.origin).search,as:C.N,className:"color-fg-default Link--inTextBlock","data-hovercard-url":(0,p.fQ)({owner:i.ownerLogin,repo:i.name,commitish:e}),children:(0,P.F)(e)})]},e))," commit ",(0,s.jsx)("span",{className:"fgColor-default",children:(0,P.F)(e.oid)}),(0,s.jsx)(U.w,{sha:e.oid,direction:"sw"})]})]})]})]})}try{es.displayName||(es.displayName="CommitInfo")}catch{}var eo=n(56628),el=n(14271);function ed({unavailableReason:e,commit:t,commitInfo:n}){let r=ec[e];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(eo.B,{"data-hpc":!0,padding:{narrow:"normal",regular:"spacious"},children:[(0,s.jsx)("h1",{className:"sr-only",children:t.shortMessage}),(0,s.jsx)(es,{commit:t,commitInfo:n})]}),(0,s.jsxs)(el.A,{children:[(0,s.jsx)(el.A.Visual,{children:r.visual}),(0,s.jsx)(el.A.Heading,{children:r.heading}),(0,s.jsx)(el.A.Description,{children:r.description}),r.secondaryAction]})]})}let ec={corrupt:{visual:(0,s.jsx)(k.AlertIcon,{}),heading:"Sorry, this diff is unavailable.",description:"The repository may be missing relevant data.",secondaryAction:(0,s.jsx)(el.A.SecondaryAction,{href:(0,p.y2)(),children:"Please contact support for more information"})},"missing commits":{visual:(0,s.jsx)(k.AlertIcon,{}),heading:"Sorry, this diff is unavailable.",description:"The repository may be missing relevant data.",secondaryAction:(0,s.jsx)(el.A.SecondaryAction,{href:(0,p.y2)(),children:"Please contact support for more information"})},timeout:{visual:(0,s.jsx)(k.HourglassIcon,{}),heading:"Sorry, this diff is taking too long to generate.",description:"It may be too large to display on GitHub."},"too busy":{visual:(0,s.jsx)(k.HourglassIcon,{}),heading:"Sorry, this diff is temporarily unavailable due to heavy server load.",description:"Please try again later."}};try{ed.displayName||(ed.displayName="CommitUnavailable")}catch{}var em=n(62353),eu=n(67726),ef=n(73627),eh=n(41631),ep=n(35822),ex=n(27788),eg=n(84928);let ey="/users/diffview",ej=(0,c.createContext)({hideWhitespace:!1,splitPreference:"split",updateHideWhitespace:()=>{},updateSplitPreference:()=>{}});function e_({viewSettings:e,children:t}){let n=(0,ex.Z)(),r=function(e){let t=e,[n]=(0,ex.o)(),r=n.get("diff");return("split"===r||"unified"===r)&&(t=r),t}(e.splitPreference),i=function(e){let t=e,[n]=(0,ex.o)(),r=n.get("w");return"1"===r?t=!0:"0"===r&&(t=!1),t}(e.hideWhitespace),[a,o]=(0,c.useState)(r),[l,d]=(0,c.useState)(i),m=function(){let e=(0,eg.W)(`${ey}?diff=split`,"post"),t=(0,eg.W)(`${ey}?diff=unified`,"post");return async function(n){"split"===n?await e():"unified"===n&&await t()}}(),u=(0,c.useCallback)(e=>{(function(e,t){let n=new URL(window.location.href,window.location.origin);if(t){let r=encodeURIComponent(t);n.searchParams.set(e,r)}else n.searchParams.delete(e);window.history.replaceState({path:n.toString()},"",n.toString())})("diff",e),o(e),m(e)},[m]),f=(0,c.useCallback)(e=>{d(e),n(`${window.location.pathname}?w=${e?"1":"0"}`)},[n]),h=(0,c.useMemo)(()=>({hideWhitespace:l,splitPreference:a,updateHideWhitespace:f,updateSplitPreference:u}),[l,a,f,u]);return(0,s.jsx)(ej.Provider,{value:h,children:t})}function eb(){return(0,c.useContext)(ej)}try{ej.displayName||(ej.displayName="DiffViewSettingsContext")}catch{}try{e_.displayName||(e_.displayName="DiffViewSettingsProvider")}catch{}var ev=n(28784);let ew={extraDiffEntries:[],loading:!0,error:!1};var eC=n(48058);function eN(e){if(!e)return"";let t=e.lastIndexOf(".");return!t||t<0?eC.F7:`.${e.substring(t+1)}`}let eS=(e,t=0)=>`calc(${e}px + ${t}px)`,eD={position:"sticky",zIndex:1,backgroundColor:"canvas.default","&::before":{bg:"canvas.default",content:'""',position:"absolute",display:"block",height:"100%",width:"calc(100% + 30px)",ml:"-14px",mr:-3}};var eI=n(30792),ek=n(65568),eA=n(6256),eL=n(71878),eT=n(20594);async function eE(e,t,n){let r=await (0,ev.Sr)(`${t}?pathDigest=${n}${function(e){let t="";for(let n=0;n<e.length;n++)t+=`&lineRanges[]=${JSON.stringify(e[n])}`;return t}(e)}`);if(r.ok)return await r.json()??void 0}async function eR({repo:e,sha1:t,sha2:n,entry:r}){let i=await (0,ev.Sr)((0,eT.RD)((0,p.ux)({owner:e.ownerLogin,repo:e.name,entry:r,sha1:t,sha2:n})));if(i.ok){let e=await i.json();return(0,eT.Av)(e),e.diffLines}}var eF=n(81602),eP=n(281);function eB({oid:e,path:t,repo:n,isViewable:r=!0,copilotDiffChatProps:i}){return(0,s.jsxs)(eP.W,{children:[(0,s.jsx)(eP.W.Anchor,{children:(0,s.jsx)("button",{className:"Button Button--iconOnly Button--invisible","aria-label":"More options",children:(0,s.jsx)(k.KebabHorizontalIcon,{})})}),(0,s.jsx)(eP.W.Overlay,{children:(0,s.jsxs)(Q.l,{children:[(0,s.jsxs)(Q.l.LinkItem,{href:(0,p.nD)({repo:n.name,owner:n.ownerLogin,filePath:t,commitish:e}),inactiveText:r?void 0:"Action unavailable",children:[(0,s.jsx)(Q.l.LeadingVisual,{children:(0,s.jsx)(k.EyeIcon,{})}),"View file"]}),(0,s.jsxs)(Q.l.Item,{inactiveText:"Action unavailable",children:[(0,s.jsx)(Q.l.LeadingVisual,{children:(0,s.jsx)(k.PencilIcon,{})}),"Edit file"]}),(0,s.jsxs)(Q.l.Item,{inactiveText:"Action unavailable",children:[(0,s.jsx)(Q.l.LeadingVisual,{children:(0,s.jsx)(k.TrashIcon,{})}),"Delete file"]}),i&&(0,s.jsx)(eF.$,{...i})]})})]})}try{eB.displayName||(eB.displayName="BlobActionsMenu")}catch{}let eH=(0,c.memo)(function({commitOid:e,path:t,proseDiffHtml:n,fileRendererInfo:r,dependencyDiffPath:i}){let{loaded:a,richDiffData:l}=function(e,t,n,r){let i=!!t.proseDiffHtml||!!t.fileRendererInfo||!!r,a=(0,o.t)(),[s,l]=(0,c.useState)(i),[d,m]=(0,c.useState)(t),u=(0,c.useCallback)(async()=>{let t=await (0,ev.lS)(`${(0,p.$Q)({owner:a.ownerLogin,repo:a.name,commitish:e})}/rich_diff/${encodeURIComponent(n)}`);t.ok&&m(await t.json()),l(!0)},[e,n,a]);return(0,c.useEffect)(()=>{i||u()},[i,u]),{loaded:s,richDiffData:d}}(e,{proseDiffHtml:n,fileRendererInfo:r},t,i);return(0,s.jsx)(u.Uz,{dependencyDiffPath:i,fileRendererInfo:l.fileRendererInfo,loading:!a,proseDiffHtml:l.proseDiffHtml})});try{eH.displayName||(eH.displayName="CommitRichDiff")}catch{}let eM={isInMergeQueue:!1,state:"OPEN"},eU=c.memo(c.forwardRef(eO));function eO({prId:e,diffMatches:t,focusedSearchResult:n,diffEntryData:r,splitPreference:i,contextLinePathURL:a,recalcTotalHeightOfVirtualWindow:o,helpUrl:m,headerStickyOffset:f=0,repo:h,oid:p,index:x,ignoreWhitespace:g,virtualizerScrollTo:y},j){let _=(0,l.i)(),b=function(){let e=(0,d.B)(),{commit:t,commentInfo:n}=e,r=(0,eL.I)({commit:t,repo:e.repo,viewerCanReply:n.canComment}),{addComment:i,deleteComment:a,editComment:s,hideComment:o,unhideComment:l}=(0,eA.X)(),{findInlineComment:m}=(0,ek.B)(),u=(0,c.useCallback)(({filePath:e,onCompleted:t,onError:n,text:r,thread:a})=>{let[s,o]=a.id.split("::");if(!s||!o){n(Error("Invalid threadId"));return}i(r,e,o).then(e=>{e.comment?t?.(e.comment.id):n(Error("Failed to add comment"))})},[i]),f=(0,c.useCallback)(({text:e,diffLine:t,filePath:n,onCompleted:r,onError:a})=>{t&&t.position&&i(e,n,t.position.toString()).then(e=>{if(e.comment){let i=e.comment.id,a=`${n}::${t.position}`;r?.(a,i)}else a?.(Error("Failed to add comment"))})},[i]),h=(0,c.useCallback)(({comment:e,text:t,onCompleted:n,onError:r})=>{let i=m(e.id);if(!i){r(Error("Comment not found"));return}s(t,{id:i.id,bodyVersion:i.bodyVersion}).then(e=>{e.updatedFields?n?.():r(Error("Failed to edit comment"))})},[s,m]),p=(0,c.useCallback)(({commentId:e,onCompleted:t,onError:n})=>{let r=m(e);if(!r){n?.(Error("Comment not found"));return}a(r.id.toString()).then(e=>{"success"===e?t?.():"error"===e&&n?.(Error("Failed to delete comment"))})},[a,m]),x=(0,c.useCallback)(({commentId:e,reason:t,onCompleted:n,onError:r})=>{let i=m(e);if(!i){r?.(Error("Comment not found"));return}o(i.id.toString(),t).then(e=>{"success"===e?n?.():"error"===e&&r(Error("Failed to hide comment"))})},[m,o]),g=(0,c.useCallback)(({commentId:e,onCompleted:t,onError:n})=>{let r=m(e);if(!r){n?.(Error("Comment not found"));return}l(r.id.toString()).then(e=>{"success"===e?t?.():"error"===e&&n(Error("Failed to unhide comment"))})},[m,l]);return(0,c.useMemo)(()=>({batchingEnabled:!1,commentSubjectType:"commit",multilineEnabled:!1,resolvingEnabled:!1,suggestedChangesEnabled:!1,lazyFetchReactionGroups:!0,lazyFetchEditHistory:!0,addThread:f,addThreadReply:u,deleteComment:p,editComment:h,pendingSuggestedChangesBatch:[],submitSuggestedChanges:eu.l,addSuggestedChangeToPendingBatch:eu.l,removeSuggestedChangeFromPendingBatch:eu.l,addFileLevelThread:eu.l,resolveThread:eu.l,unresolveThread:eu.l,hideComment:x,unhideComment:g,fetchThread:r,commentBoxConfig:{pasteUrlsAsPlainText:!1,useMonospaceFont:!1}}),[f,u,p,h,r,x,g])}(),v=(0,c.useMemo)(()=>({filteredMarkers:[],activeGlobalMarkerID:"",decrementActiveMarker:eu.l,incrementActiveMarker:eu.l,onActivateGlobalMarkerNavigation:eu.l}),[]),w=(0,d.B)().commentInfo,{getThreadDataByPathAndPosition:C}=(0,ek.B)(),[N,S]=(0,c.useState)(eV(r.current[x],C)),D=(0,c.useCallback)(e=>{S(eV(e,C))},[C]),[I,k]=(0,c.useState)(N.collapsed),[A,L]=(0,c.useState)(N.defaultToRichDiff),[T,E]=(0,c.useState)(N.diffManuallyExpanded),R=(0,c.useRef)(!1),{fetchInjectedContextLines:F,fetchDiffLines:P}={fetchInjectedContextLines:eE,fetchDiffLines:eR},B=(0,c.useRef)([]),H=(0,c.useCallback)(async e=>{B.current.push(e);let t=await F(B.current,a,N.pathDigest);if(void 0!==t){let e={...N};e.diffLines=t.diffEntryWithContext,D(e),r.current[x]=e,o()}},[a,r,N,x]),M=async()=>{B.current=[],R.current||((N.newTreeEntry?.lineCount??0)<5e3?B.current.push({start:1,end:Math.max(N.oldTreeEntry?.lineCount??0,N.newTreeEntry?.lineCount??0)}):B.current=function(e,t){let n=[];for(let t=0;t<e.length;t++)if("HUNK"===e[t].type){let r=e[t-1>=0?t-1:0],i=e[t+1<e.length?t+1:e.length-1],a=r?.blobLineNumber,s=i?.blobLineNumber;a&&s&&(n.push({start:a,end:a+40}),n.push({start:Math.max(s-40,1),end:s}))}let r=e[e.length-1].blobLineNumber;return r<t&&n.push({start:r,end:r+40}),n}(N.diffLines,N.newTreeEntry?.lineCount??0)),R.current=!R.current;let e=await F(B.current,a,N.pathDigest);if(void 0!==e){let t={...N};t.diffLines=e.diffEntryWithContext,D(t),r.current[x]=t,o()}},U=(0,c.useCallback)(async()=>{if(0===N.diffLines.length){let e=await P({repo:h,sha1:N.oldOid,sha2:N.newOid,entry:N.diffNumber.toString()});if(!e)return;let t={...N};t.diffLines=e,D(t),r.current[x]=t}N.diffManuallyExpanded=!0,r.current[x].diffManuallyExpanded=!0,E(!0),o(),requestAnimationFrame(()=>{y?.(x,{align:"center"})})},[r,N,x,o]);(0,c.useEffect)(()=>{D(r.current[x]),B.current=[]},[g,x,r,p,h.name,h.ownerLogin,N.path,D]);let O=(0,c.useMemo)(()=>{if((r.current[x]?.diffLines?.[0]?.blobLineNumber||0)>1)return!0;let e=r.current[x]?.diffLines?.length||0;return(r.current[x]?.diffLines?.[e-1]?.blobLineNumber||0)<(r.current[x]?.newTreeEntry?.lineCount||0)+1},[r.current[x]?.diffLines,r.current[x]?.newTreeEntry?.lineCount,x,r]),V=(0,c.useMemo)(()=>({avatarUrl:_?.avatarURL??"",diffViewPreference:i,isSiteAdmin:!1,login:_?.login??"",tabSizePreference:_?.tabSize??8,viewerCanComment:w.canComment,viewerCanApplySuggestion:!1}),[i,_?.avatarURL,_,_?.login,_?.tabSize]),$=(0,c.useMemo)(()=>{if(e&&N.copilotChatReferenceData)return{referenceData:N.copilotChatReferenceData,queryVariables:{pullRequestId:e,startOid:N.oldOid,endOid:N.newOid}}},[N,e]);return(0,s.jsxs)("div",{className:"position-relative",ref:j,children:[(0,s.jsx)(et.A,{sx:{...eD,top:[eS(56,f),eS(64,f)]},children:(0,s.jsx)(eI.B,{areLinesExpanded:R.current,canExpandOrCollapseLines:O,defaultToRichDiff:N.defaultToRichDiff,fileLinkHref:`#diff-${N.pathDigest}`,isCollapsed:I,canToggleRichDiff:N.canToggleRichDiff,linesAdded:N.linesAdded,linesDeleted:N.linesDeleted,newMode:N.newTreeEntry?.mode,newPath:N.newTreeEntry?.path,oldMode:N.oldTreeEntry?.mode,oldPath:N.oldTreeEntry?.path,patchStatus:N.status,path:N.path,onToggleExpandAllLines:M,onToggleFileCollapsed:()=>{N.collapsed=!I,r.current[x].collapsed=!I,k(!I)},onToggleDiffDisplay:e=>L(e),rightSideContent:(0,s.jsx)(eB,{oid:"REMOVED"===N.status&&N.deletedSha?N.deletedSha:p,path:N.path,repo:h,isViewable:!N.isSubmodule,copilotDiffChatProps:$})})}),I?null:(0,s.jsx)("div",{className:"border position-relative rounded-bottom-2",children:A?(0,s.jsx)(eH,{commitOid:p,path:N.path,proseDiffHtml:N.proseDifffHtml,fileRendererInfo:N.renderInfo,dependencyDiffPath:N.dependencyDiffPath}):(0,s.jsx)(u.T5,{copilotChatReferenceData:e?N.copilotChatReferenceData:void 0,searchResults:t,focusedSearchResult:n,diffEntryData:N,baseHelpUrl:m,commentingEnabled:!0,commentBatchPending:!1,repositoryId:h.id.toString(),subject:eM,subjectId:e?.toString()??"",viewerData:V,newCommitOid:N.newOid,oldCommitOid:N.oldOid,addInjectedContextLines:H,commentingImplementation:b,markerNavigationImplementation:v,diffLinesManuallyUnhidden:T,onHandleLoadDiff:U})})]})}function eV(e,t){for(let n of e.diffLines??[]){let r=t(e.path,n.position);r?n.threadsData={totalCommentsCount:r.count,totalCount:r.count,threads:(r.threads??[]).map(e=>({id:e.id,diffSide:e.diffSide,commentsData:e.commentsData,line:n.blobLineNumber,isOutdated:!1}))}:n.threadsData=void 0}return e}try{eU.displayName||(eU.displayName="Diff")}catch{}try{eO.displayName||(eO.displayName="DiffUnmemoized")}catch{}let e$=c.memo(eW);function eW(){return(0,s.jsx)("div",{className:"pt-3",children:(0,s.jsxs)("div",{className:"border borderColor-muted rounded-top-2",children:[(0,s.jsx)("div",{className:"gap-2 p-3 border-bottom borderColor-muted bgColor-muted rounded-top-2",children:(0,s.jsx)(I.O,{height:"sm",variant:"rounded",width:"140px"})}),(0,s.jsxs)("div",{className:"d-flex flex-column gap-2 p-3",children:[(0,s.jsx)(I.O,{height:"sm",variant:"rounded",width:"random"}),(0,s.jsx)(I.O,{height:"sm",variant:"rounded",width:"random"}),(0,s.jsx)(I.O,{height:"sm",variant:"rounded",width:"random"}),(0,s.jsx)(I.O,{height:"sm",variant:"rounded",width:"random"})]})]})})}try{e$.displayName||(e$.displayName="LoadingContentBlock")}catch{}try{eW.displayName||(eW.displayName="LoadingContentBlockUnmemoized")}catch{}function ez({diffEntryData:e,contextLinePathURL:t,selectedPathDigest:n,unselectedFileExtensions:r,repo:i,oid:a,ignoreWhitespace:o,commitInfo:l,searchTerm:m,setSearchTerm:h,isStickied:x}){let j=eb(),_=(0,c.useCallback)(()=>v({}),[]),[b,v]=(0,c.useState)({}),w=(0,c.useRef)(e),{findInDiffWorkerPath:C}=(0,R.D)(),N=(0,c.useRef)(e),S=(0,c.useRef)(e.length>40),D=(0,c.useRef)(null),[I,k]=(0,c.useState)(o),A=(0,c.useRef)(0),[L,T]=(0,c.useState)(a),{diffFindOpen:E,setDiffFindOpen:F}=(0,u.K_)(),{findInFileShortcut:P}=(0,em.wk)(),B=(0,c.useRef)(null),{focusedSearchResult:H,setFocusedSearchResult:M,searchResults:U,currentIndex:O,setCurrentIndex:V}=(0,u.xB)(w.current,m,C,b);function $(){F(!0);let e=window.getSelection()?.toString();e&&h(e),E&&B?.current?.focus()}(0,c.useEffect)(()=>{r&&r.size>0?w.current=N.current.filter(e=>!r.has(eN(e.path))):w.current=N.current,S.current=w.current.length>40,_()},[r?.size]),(0,c.useEffect)(()=>{w.current=e,N.current=e,S.current=w.current.length>40,_(),k(o),T(a)},[t,e,e[0]?e[0].diffLines:void 0]);let W=(0,d.B)(),z=(0,ef.X)(),q=(0,p.gq)({owner:W.repo.ownerLogin,repo:W.repo.name,commitish:W.commit.oid}),G=function(e,t,n,r,i,a){let[s,o]=(0,c.useState)(ew),l=(0,c.useRef)([]),d=(0,c.useRef)(n);return(0,c.useEffect)(()=>{if(!r||!i)return;let a=!1,s=async(e,t,n)=>{o(ew);let i=await (0,ev.lS)(`${r}?start_entry=${e}&bytes=${t}&lines=${n}`);if(!a)try{if(i.ok){let e=await i.json();e&&(e.loading=e.loadMore,l.current=l.current.concat(e.extraDiffEntries),e.extraDiffEntries=l.current,e.loadMore&&d.current!==e.asyncDiffLoadInfo.startIndex?(d.current=e.asyncDiffLoadInfo.startIndex,o(e),setTimeout(()=>s(e.asyncDiffLoadInfo.startIndex,e.asyncDiffLoadInfo.byteCount,e.asyncDiffLoadInfo.lineShownCount),0)):(d.current===e.asyncDiffLoadInfo.startIndex?(e.error=!0,e.loading=!1):e.error=!1,o(e)))}else o(e=>({...e,loading:!1,error:!0,extraDiffEntries:l.current}))}catch(e){o(e=>({...e,loading:!1,error:!0,extraDiffEntries:l.current}))}};return s(n,e,t),function(){a=!0}},[e,t,i,n,r,a]),(0,c.useEffect)(()=>{l.current=[],d.current=n},[r,n,a]),s}(W.asyncDiffLoadInfo.byteCount,W.asyncDiffLoadInfo.lineShownCount,W.asyncDiffLoadInfo.startIndex,q,W.moreDiffsToLoad,o);(0,c.useEffect)(()=>{w.current=w.current.concat(G.extraDiffEntries),N.current=w.current,r&&r.size>0&&(w.current=N.current.filter(e=>!r.has(eN(e.path)))),S.current=w.current.length>40,_()},[G.extraDiffEntries]);let Q=(0,c.useRef)(null),K=(0,eh.h)({parentRef:Q,size:w.current.length,estimateSize:(0,c.useCallback)(e=>{var t;let n;return t=w.current[e],n=67,t?.collapsed?n:t?.newTreeEntry?.isGenerated&&!t?.diffManuallyExpanded?199:t?.isTooBig?104:(t?.diffLines&&(n+=25*t.diffLines.length),t?.newTreeEntry?.lineCount&&t.newTreeEntry.lineCount>(t?.diffLines[t?.diffLines.length-1]?.right??0)&&(n+=32),n)},[w.current.length,b]),useVirtualImpl:eh.Y,rangeExtractor(e){let t=g.fV.hash.substring(1),n=(0,f.pd)(t),r=document.querySelector("[data-path-digest]:focus-within")?.getAttribute("data-path-digest"),i=w.current.findIndex(e=>e.pathDigest===r),a=w.current.findIndex(e=>n?.endsWith(e.pathDigest));return i<0&&a<0?(0,ep.v)(e):Array.from(new Set([...(0,ep.v)(e),...[i,a].filter(e=>e>-1)])).sort((e,t)=>e-t)}});return(0,c.useEffect)(()=>{let e=n.includes("R"),t=n.includes("L"),r=t||e,i=r?t?n.split("L")[0]:n.split("R")[0]:n,a=eq(i??n,w.current);if(-1===a){if(G.error&&null!==D){let e=D.current?.childNodes[0];e?.focus(),e?.scrollIntoView({block:"center"})}return}if(S.current)K.scrollToIndex(a,{align:"center"}),requestAnimationFrame(()=>{if(r&&eG(Q,n));else{let e=Q.current?.querySelectorAll(`[aria-label="collapse file: ${w.current[a]?.path}"]`);e&&1===e.length&&e[0].focus()}});else if(r&&eG(Q,n));else{let e=Q.current?.querySelectorAll(`[data-diff-anchor=diff-${i}]`);if(e&&1===e.length){let t=e[0].getBoundingClientRect().top+(g.cg?.scrollY??0)-67-60;g.cg?.scrollTo(0,t);let n=Q.current?.querySelectorAll(`[aria-label="collapse file: ${w.current[a]?.path}"]`);n&&1===n.length&&n[0].focus()}}},[n,G]),(0,s.jsxs)("div",{"data-hpc":!0,ref:Q,children:[!S.current&&w.current.map((e,n)=>(0,s.jsx)("div",{style:{paddingTop:0===n?0:16,left:3,right:3},children:(0,s.jsx)(eU,{prId:l?.branches[0]?.prs[0]?.globalRelayId,diffEntryData:w,index:n,splitPreference:j.splitPreference,contextLinePathURL:t,recalcTotalHeightOfVirtualWindow:eu.l,repo:i,helpUrl:z.helpUrl,oid:L,ignoreWhitespace:I})},e.pathDigest)),S.current&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.ak,{commands:{"commit-diff-view:open-find":$}}),(0,s.jsx)("button",{hidden:!0,"data-hotkey":P.hotkey,onClick:$}),E&&(0,s.jsx)(u.qj,{inputContainer:B,currentPathDigestIndex:A,stickied:x,searchTerm:m,focusedSearchResult:H,currentIndex:O,setCurrentIndex:V,setFocusedSearchResult:M,setSearchTerm:h,searchResults:U,scrollDiffCellIntoView:e=>{let t=eq(e?.pathDigest??"",w.current);-1!==t&&(K.scrollToIndex(t,{align:"center"}),requestAnimationFrame(()=>{(function(e,t){let n=g.XC?.getElementById(`match-${t}-${e}`);n&&n.scrollIntoView({block:"center"})})(e?.indexWithinDigest??0,e?.pathDigest??"")}))},onClose:()=>{F(!1)}}),(0,s.jsx)("div",{style:{height:K.totalSize,width:"100%",position:"relative"},children:K.virtualItems.map(e=>{let n,r;let a=w.current[e.index];return(U.has(a?.pathDigest??"")&&(n=U.get(a?.pathDigest??"")??[]),H&&a?.pathDigest===H?.pathDigest&&(r=H?.indexWithinDigest??-1),a)?(0,s.jsx)("div",{ref:e.measureRef,"data-key":e.key,style:{position:"absolute",paddingTop:0===e.index?0:16,left:3,right:3,transform:`translateY(${e.start}px)`},children:(0,s.jsx)(eU,{prId:l?.branches[0]?.prs[0]?.globalRelayId,diffMatches:n,focusedSearchResult:r,diffEntryData:w,index:e.index,splitPreference:j.splitPreference,contextLinePathURL:t,recalcTotalHeightOfVirtualWindow:_,headerStickyOffset:-e.start,helpUrl:z.helpUrl,repo:i,oid:L,ignoreWhitespace:I,virtualizerScrollTo:K.scrollToIndex})},a.pathDigest):null})})]}),W.moreDiffsToLoad&&(0,s.jsxs)(s.Fragment,{children:[G.loading&&(0,s.jsx)(e$,{}),G.error&&(0,s.jsx)("div",{style:{justifyContent:"center",paddingTop:"16px"},ref:D,children:(0,s.jsx)(J.A,{variant:"danger",tabIndex:0,children:(0,s.jsx)("div",{className:"d-flex flex-items-center",style:{justifyContent:"center"},children:"There was a problem loading the remainder of the diff."})})})]})]})}function eq(e,t){for(let n=0;n<t.length;n++)if(e===t[n]?.pathDigest)return n;return -1}function eG(e,t){let n=e.current?.querySelectorAll(`[data-line-anchor=diff-${t}]`);return!!n&&1===n.length&&(n[0].focus(),!0)}try{ez.displayName||(ez.displayName="Diffs")}catch{}var eQ=n(73729),eK=n(69909);function eX(){let{splitPreference:e,updateSplitPreference:t}=eb();return(0,s.jsxs)(Q.l.Group,{selectionVariant:"single",children:[(0,s.jsx)(Q.l.GroupHeading,{children:"Layout"}),(0,s.jsx)(Q.l.Item,{selected:"unified"===e,onSelect:()=>t("unified"),children:"Unified"}),(0,s.jsx)(Q.l.Item,{selected:"split"===e,onSelect:()=>t("split"),children:"Split"})]})}try{eX.displayName||(eX.displayName="DiffViewPreferenceToggle")}catch{}function eY(){let{hideWhitespace:e,updateHideWhitespace:t}=eb();return(0,s.jsxs)(Q.l.Group,{selectionVariant:"single",variant:"subtle",children:[(0,s.jsx)(Q.l.GroupHeading,{children:"Whitespace"}),(0,s.jsx)(Q.l.Item,{selected:e,onSelect:()=>t(!e),children:"Hide whitespace"})]})}try{eY.displayName||(eY.displayName="DiffWhitespaceToggle")}catch{}function eZ(){return(0,s.jsxs)(eP.W,{children:[(0,s.jsx)(eP.W.Anchor,{children:(0,s.jsx)("button",{className:"Button Button--iconOnly Button--invisible ml-2","aria-label":"Diff view settings",children:(0,s.jsx)(k.GearIcon,{})})}),(0,s.jsx)(eP.W.Overlay,{children:(0,s.jsxs)(Q.l,{children:[(0,s.jsx)(eX,{}),(0,s.jsx)(Q.l.Divider,{}),(0,s.jsx)(eY,{})]})})]})}try{eZ.displayName||(eZ.displayName="DiffViewSettings")}catch{}function eJ({treeToggleElement:e,headerInfo:t}){let n=(0,c.useRef)(null),r=function(e){let[t,n]=(0,c.useState)(!1),r=(0,c.useCallback)(e=>{let r=e[e.length-1].intersectionRatio<1;r!==t&&n(r)},[t,n]);return(0,c.useEffect)(()=>{let t=e.current,n=new IntersectionObserver(r,{threshold:[1],rootMargin:"-1px 0px 0px 0px"});return e.current&&n.observe(e.current),()=>{t&&n.unobserve(t)}},[e,r]),t}(n),i=r?{display:["none","inherit"]}:{};return(0,s.jsxs)("div",{className:"d-flex flex-items-center flex-justify-between gap-2 pt-3 pt-lg-4 pb-2 position-sticky top-0 color-bg-default",style:{zIndex:2},ref:n,children:[(0,s.jsxs)("div",{className:"d-flex flex-items-center",children:[e,(0,s.jsxs)(eQ.A,{as:"h2",className:"mx-2 f4",children:[t.filesChangedString," file",t.filesChanged>1?"s":""," changed"]}),(0,s.jsxs)(eI.C,{sx:i,isAddition:!0,children:["+",t.additions]}),(0,s.jsxs)(eI.C,{sx:i,isAddition:!1,children:["-",t.deletions]}),(0,s.jsx)(eK.A,{sx:{fontSize:0,ml:2,color:"fg.muted",whiteSpace:"nowrap",...i},children:"lines changed"})]}),(0,s.jsxs)("div",{className:"d-flex",children:[r&&(0,s.jsx)(e0,{}),(0,s.jsx)(eZ,{})]})]})}let e0=()=>(0,s.jsx)(T.Q,{leadingVisual:k.ArrowUpIcon,variant:"invisible",className:"fgColor-default px-2 f6 gap-1",onClick:e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})},children:"Top"});try{eJ.displayName||(eJ.displayName="DiffsHeader")}catch{}try{e0.displayName||(e0.displayName="GoToTopButton")}catch{}var e1=n(70170),e2=n(49078),e8=n(42024);let e3="diff_file_tree";function e7({diffs:e,onFileSelected:t,diffsHeader:n,unselectedFileExtensions:r,onFileExtensionsChange:i}){let[a,o]=(0,c.useState)(""),{getCommentCountByPath:l}=(0,ek.B)(),d=(0,c.useRef)(null),m=(0,c.useMemo)(()=>new Set(e.map(e=>eN(e.path))),[e]),u=e;r&&r.size>0&&(u=u.filter(e=>!r.has(eN(e.path))));let f=(a?u.filter(e=>e.path.toLowerCase().includes(a.toLowerCase())):u).map(e=>{let t=l(e.path);return{...e,totalCommentsCount:t??0}});return(0,s.jsxs)("div",{className:"d-flex flex-column gap-2",id:e3,children:[(0,s.jsx)("h2",{className:"sr-only",children:"File tree"}),(0,s.jsx)("div",{className:"d-md-none",ref:d,children:n}),(0,s.jsx)(e5,{filterText:a,onFilterTextChange:o,fileExtensions:m,unselectedFileExtensions:r,onFileExtensionsChange:i}),(0,s.jsx)(e2.oj,{diffs:f,onSelect:e=>{t(e,(0,e8.nn)(window.innerWidth)<=e8.Gy.medium?"close_tree":void 0)}})]})}function e5({filterText:e,onFilterTextChange:t,fileExtensions:n,unselectedFileExtensions:r,onFileExtensionsChange:i}){let a=(0,c.useRef)((0,e1.s)(e=>t(e),250));return(0,s.jsx)(eC.kF,{filterText:e,fileExtensions:n,unselectedFileExtensions:r,onFilterTextChange:e=>a.current(e),onFilterChange:(e,t)=>{i(e,t.extension)}})}try{e7.displayName||(e7.displayName="FileTree")}catch{}try{e5.displayName||(e5.displayName="FileFilter")}catch{}function e4({diffEntryData:e,contextLinePathURL:t,repo:n,oid:r}){let i=eb(),a=(0,c.useRef)(e),o=(0,ef.X)(),l=(0,d.B)();return(0,s.jsx)("div",{"data-hpc":!0,children:e.map((e,d)=>(0,s.jsx)("div",{className:0===d?"pt-0":"pt-3",children:(0,s.jsx)(eU,{prId:void 0,diffEntryData:a,index:d,helpUrl:o.helpUrl,splitPreference:i.splitPreference,contextLinePathURL:t,recalcTotalHeightOfVirtualWindow:eu.l,repo:n,ignoreWhitespace:l.ignoreWhitespace,oid:r})},e.pathDigest))})}try{e4.displayName||(e4.displayName="SSRDiffs")}catch{}var e6=n(15617);async function e9({repo:e,commitOid:t}){let n=await (0,ev.Sr)((0,eT.RD)((0,p.cl)({owner:e.ownerLogin,repo:e.name,commitOid:t})));if(n.ok){let e=await n.json();return(0,eT.Av)(e),e}throw Error("Failed to fetch comment data")}var te=n(94977),tt=n(20053);let tn=c.forwardRef(({expanded:e,testid:t,ariaLabel:n,ariaControls:r,onToggleExpanded:i,alignment:a,dataHotkey:o,className:l,tooltipDirection:d},c)=>(0,s.jsx)(te.A,{"aria-label":n,id:`expand-button-${t}`,direction:d,children:(0,s.jsx)(G.K,{unsafeDisableTooltip:!0,ref:c,"data-testid":e?`collapse-${t}`:`expand-${t}`,"aria-labelledby":`expand-button-${t}`,"aria-expanded":e,"aria-controls":r,icon:e?"left"===a?k.SidebarExpandIcon:k.SidebarCollapseIcon:"left"===a?k.SidebarCollapseIcon:k.SidebarExpandIcon,"data-hotkey":o,onClick:e=>{i(e)},variant:"invisible",className:(0,tt.A)(l,"fgColor-muted")})}));tn.displayName="ExpandButton";let tr=(0,x.E7)();function ti(){(0,_.L)(!0);let e=(0,d.B)(),{splitPagePaneHiddenSx:t,splitPageContentHidden:n,treeToggleElement:r,collapseTree:i}=function(e,t){let n=async function(e,t){if(!t)return;let n=new FormData;n.set("file_tree_visible",e?"true":"false"),(0,ev.DI)((0,p.h6)(t),{method:"PUT",body:n,headers:{Accept:"application/json"}})},[r]=(0,j.I)(()=>!1,!0,[]),i=(0,l.i)(),a=(0,c.useRef)(null),o=(0,c.useRef)(null),[d,m]=(0,c.useState)(t),[u,f]=(0,c.useState)(!1),h=(0,c.useCallback)(()=>{(0,e8.nn)(window.innerWidth)<=e8.Gy.medium?(f(!0),requestAnimationFrame(()=>o.current?.focus())):(m(!0),n(!0,i),requestAnimationFrame(()=>a.current?.focus()))},[i,n]),x=(0,c.useCallback)(()=>{(0,e8.nn)(window.innerWidth)<=e8.Gy.medium?(f(!1),requestAnimationFrame(()=>o.current?.focus())):(m(!1),n(!1,i),requestAnimationFrame(()=>a.current?.focus()))},[i,n]),g=(0,c.useMemo)(()=>(0,s.jsx)(tn,{expanded:d,alignment:"left",ariaLabel:d?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:a,onToggleExpanded:()=>{d?x():h()},className:"d-none d-md-flex position-relative"}),[d,e,x,h]),y=(0,c.useMemo)(()=>(0,s.jsx)(tn,{expanded:u,alignment:"left",ariaLabel:u?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:o,onToggleExpanded:()=>{u?x():h()},className:"d-md-none position-relative"}),[u,e,x,h]),_=(0,c.useMemo)(()=>(0,s.jsxs)(s.Fragment,{children:[y,g]}),[y,g]);return{splitPagePaneHiddenSx:r&&!t?{display:"none"}:{flexDirection:["column","column","inherit"],"@media screen and (max-width: 768px)":u?{mt:-3}:{display:"none"},"@media screen and (min-width: 769px)":d?{height:"100vh",maxHeight:"100vh !important"}:{display:"none"}},splitPageContentHidden:{narrow:u,regular:!1},expandTree:h,collapseTree:x,treeToggleElement:_,treeToggleRef:a}}(e3,e.fileTreeExpanded),[a,m]=(0,c.useState)(new Set),[x]=(0,j.I)(()=>!1,!0,[]),[C,N]=(0,c.useState)(""),[S,D]=(0,c.useState)(""),[I,k]=(0,c.useState)(!1),A=(0,c.useCallback)((e,t)=>{(0,f.pk)(`diff-${e.pathDigest}`),N(e.pathDigest),"close_tree"===t&&i()},[i]),L=function(e){let t=(0,o.t)(),[n,r]=(0,c.useState)({branches:[],tags:[],loading:!0});return(0,c.useEffect)(()=>{let n=!1;return(async()=>{r({branches:[],tags:[],loading:!0});let i=await (0,ev.lS)((0,p.jn)({owner:t.ownerLogin,repo:t.name,commitish:e}));if(!n)try{if(i.ok){let e=await i.json();e.loading=!1,e&&r({...e,loading:!1})}else r({branches:[],tags:[],loading:!1})}catch(e){r({branches:[],tags:[],loading:!1})}})(),function(){n=!0}},[t.ownerLogin,t.name,e]),n}(e.commit.oid),T=(0,p.t0)({owner:e.repo.ownerLogin,repo:e.repo.name,commitish:e.commit.oid}),E=(0,c.useCallback)((e,t)=>{let n=new Set(a);"selectFileExtension"===e?n.delete(t):"unselectFileExtension"===e&&n.add(t),m(n)},[a]);(0,c.useEffect)(()=>{m(new Set)},[e.commit]),(0,c.useEffect)(()=>{let e=g.cg?.location.hash;if(e?.indexOf("diff-")!==-1){let t=e?.split("diff-");t&&2===t.length&&N(t[1]??"")}},[]);let R=(0,c.useMemo)(()=>({hideWhitespace:e.ignoreWhitespace,splitPreference:e.splitViewPreference}),[e.ignoreWhitespace,e.splitViewPreference]);(0,c.useEffect)(()=>{(g.cg?.scrollY??0)>0&&g.cg?.scrollTo(0,0)},[e.path]);let{deferredCommentData:F,state:P}=function(e,t){let[n,r]=(0,c.useState)(void 0),[i,a]=(0,c.useState)("initial");return(0,c.useEffect)(()=>{r(void 0),a("loading"),(async()=>{r(await e9({repo:e,commitOid:t})),a("loaded")})()},[t,e]),{deferredCommentData:n,state:i}}(e.repo,e.commit.oid),B=F?.threadMarkers,H=()=>(0,s.jsx)(eJ,{treeToggleElement:r,headerInfo:e.headerInfo});if(e.unavailableReason)return(0,s.jsx)(ed,{commit:e.commit,commitInfo:L,unavailableReason:e.unavailableReason});let[M,U]=function(e){let t=e.findIndex(e=>void 0===e.oldOid)-1;return[-2===t?e:e.slice(0,t+1),e.map(e=>({path:e.path,changeType:e.status,pathDigest:e.pathDigest}))]}(e.diffEntryData);return(0,s.jsx)(v.RelayEnvironmentProvider,{environment:tr,children:(0,s.jsxs)(ek.r,{initialFiles:B,children:[(0,s.jsx)(y.ak,{commands:{"commit-diff-view:create-permalink":()=>{let t=(0,p.$Q)({owner:e.repo.ownerLogin,repo:e.repo.name,commitish:e.commit.oid});window.history.pushState(null,document.title,t)}}}),(0,s.jsxs)(b.O7,{children:[(0,s.jsxs)(b.O7.Header,{children:[(0,s.jsx)("h1",{className:"sr-only",children:e.commit.shortMessage}),(0,s.jsx)(es,{commit:e.commit,commitInfo:L})]}),(0,s.jsx)(b.O7.Pane,{position:"start",sticky:!0,sx:t,divider:{regular:"line",narrow:"none"},widthStorageKey:"diff-tree-pane-width",resizable:!0,children:(0,s.jsx)(e7,{diffs:U,onFileSelected:A,unselectedFileExtensions:a,diffsHeader:(0,s.jsx)(H,{}),onFileExtensionsChange:E})}),(0,s.jsx)(b.O7.Content,{as:"div",width:"full",hidden:n,padding:"none",sx:{p:[3,3,3,4],pt:[0,0,0,0]},children:(0,s.jsx)(u.Yj,{children:(0,s.jsxs)(e_,{viewSettings:R,children:[(0,s.jsx)(H,{}),x?(0,s.jsx)(e4,{diffEntryData:M,contextLinePathURL:T,repo:e.repo,oid:e.commit.oid}):(0,s.jsx)(u.cP,{searchTerm:S,setSearchTerm:D,children:(0,s.jsx)(ez,{commitInfo:L,isStickied:I,searchTerm:S,setSearchTerm:D,ignoreWhitespace:e.ignoreWhitespace,diffEntryData:M,contextLinePathURL:T,unselectedFileExtensions:a,selectedPathDigest:C,repo:e.repo,oid:e.commit.oid})}),(0,s.jsx)(e6.c,{comments:F?.discussionComments?.comments,commentCount:F?.discussionComments?.count,canLoadMore:F?.discussionComments?.canLoadMore,subscribed:F?.subscribed,providerState:P,repo:e.repo,commitOid:e.commit.oid,children:(0,s.jsx)(w.$,{commit:e.commit,commentInfo:e.commentInfo})}),(0,s.jsx)(h.nq,{})]})})})]})]})})}try{ti.displayName||(ti.displayName="Commit")}catch{}try{(r=DiffsHeader).displayName||(r.displayName="DiffsHeader")}catch{}function ta({url:e}){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"text-center",children:(0,s.jsxs)("p",{className:"color-fg-muted f6 mt-4",children:["Seeing something unexpected? Take a look at the",(0,s.jsxs)(L.A,{inline:!0,href:e,children:[" ","GitHub commits guide"]}),"."]})})})}try{ta.displayName||(ta.displayName="CommitHelpMessage")}catch{}let ts=(0,c.createContext)({since:null,until:null,author:null,currentBlobPath:"",pagination:{hasNextPage:!1,hasPreviousPage:!1,endCursor:"",startCursor:""},newPath:null,originalBranch:null});function to({filters:e,children:t}){return(0,s.jsx)(ts.Provider,{value:e,children:t})}function tl(){return(0,c.useContext)(ts)}try{ts.displayName||(ts.displayName="FilterContext")}catch{}try{to.displayName||(to.displayName="FilterProvider")}catch{}var td=n(64855),tc=n(38553),tm=n(23925),tu=n(20290);function tf(){let e=tl();return e.newPath&&e.originalBranch}function th(){let e=(0,o.t)(),t=tl();return tf()?(0,s.jsx)(tu.s,{sx:{pt:1,pb:0},children:(0,s.jsxs)("div",{className:"d-flex flex-items-baseline",children:[(0,s.jsx)(tu.s.Heading,{as:"h3",title:`Renamed to ${t.newPath}`,"data-testid":"commit-note-title"}),(0,s.jsx)(C.N,{to:(0,p.Gp)({owner:e.ownerLogin,repo:e.name,ref:t.originalBranch,path:t.newPath}),children:"(Browse History)"})]})}):null}function tp(){let e=(0,tm.ej)();return e?.hasRenameCommits?(0,s.jsx)(tu.s,{children:(0,s.jsxs)("div",{className:"d-flex flex-items-baseline",children:[(0,s.jsx)(tu.s.Heading,{as:"h3",title:`Renamed from ${e?.oldName}`,"data-testid":"commit-note-title"}),(0,s.jsx)(C.N,{to:e?.historyUrl,children:"(Browse History)"})]})}):null}function tx(){let e=(0,tm.ej)();return e?.hasRenameCommits?null:(0,s.jsx)(tu.s,{clipTimeline:"bottom",children:(0,s.jsx)(tu.s.Heading,{as:"h3",title:"End of commit history for this file","data-testid":"commit-note-title"})})}function tg(){let e=tl(),t=(0,tm.xs)();return!e.currentBlobPath||e.currentBlobPath&&e.pagination.hasNextPage?null:(0,s.jsxs)(s.Fragment,{children:[t&&(0,s.jsx)(tu.s,{leadingVisual:(0,s.jsx)(tc.A,{size:"small"})}),!t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(tp,{}),(0,s.jsx)(tx,{})]})]})}try{th.displayName||(th.displayName="RenamedToHistory")}catch{}try{tp.displayName||(tp.displayName="RenamedFromHistory")}catch{}try{tx.displayName||(tx.displayName="EndOfFileHistory")}catch{}try{tg.displayName||(tg.displayName="EndOfFile")}catch{}function ty({commitGroups:e,deferredDataUrl:t,softNavToCommit:n}){let r=tl(),i=(0,o.t)(),a=(0,F.w)(t);return(0,s.jsxs)("div",{className:"mb-3","data-hpc":!0,children:[(0,s.jsx)(eQ.A,{as:"h2",className:"sr-only",children:"Commit History"}),(0,s.jsx)(td.f,{leadingContent:(0,s.jsx)(th,{}),commitGroups:e,trailingContent:(0,s.jsx)(tg,{}),repository:i,deferredCommitData:a,shouldClipTimeline:function(){let e=tf(),t=tl();return!e&&!t.pagination.hasPreviousPage}(),currentBlobPath:r.currentBlobPath,softNavToCommit:n})]})}try{ty.displayName||(ty.displayName="CommitList")}catch{}var tj=n(58143),t_=n(52876),tb=n(62689),tv=n(84929),tw=n(71649),tC=n(5225);async function tN(e){let t=await (0,ev.lS)(e);return t.ok?await t.json():void 0}let tS=new Map,tD=(0,tC.A)(tN,{cache:tS});function tI(e,t){let n=new URL(g.fV.origin+g.fV.pathname+g.fV.search,g.fV.origin),r=n.searchParams;for(let e of t)r.has(e)&&r.delete(e);for(let[t,n]of Object.entries(e))r.set(t,n.toString());return n.pathname+n.search}var tk=n(6907);let tA=(0,c.lazy)(()=>Promise.resolve().then(n.bind(n,11228)).then(e=>({default:e.DatePicker}))),tL=()=>(0,s.jsx)(V.A,{icon:k.CalendarIcon,className:"fgColor-muted",sx:{my:"2px"}});function tT({repo:e,refInfo:t,path:n,author:r,contributorsUrl:i,since:a,until:l,sx:d={}}){let m=t.name;m===t.currentOid&&(m=(0,P.F)(t.currentOid));let u=(0,ex.Z)(),f=function(e){let t=(0,o.t)(),[n,r]=(0,c.useState)({users:[],error:!1,loading:!0});return(0,c.useEffect)(()=>{let t=!1;return(async()=>{r({users:[],error:!1,loading:!0});let n=await tD(e);if(t)return;let i=[],a=!1;try{n?i=n.authors:a=!0}catch(e){a=!0}r({users:i,error:a,loading:!1})})(),function(){t=!0}},[t,"",e,"all"]),n}(i),h=c.useMemo(()=>{let e=(0,tv.H)(a??""),t=(0,tv.H)(l??"");return(0,tw.f)(e)&&(0,tw.f)(t)?{from:e,to:t}:null},[a,l]),x=n?.split("/");return(0,s.jsxs)(et.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:2,...d},children:[n&&(0,s.jsx)("div",{className:"d-flex flex-items-center",children:(0,s.jsxs)("div",{className:"d-flex flex-items-baseline flex-column flex-sm-row",children:[(0,s.jsx)(eQ.A,{as:"h2",className:"sr-only",children:"Breadcrumbs"}),(0,s.jsx)("span",{className:"fgColor-default no-wrap",children:"History for"}),(0,s.jsxs)(tb.A,{className:"ml-1",children:[(0,s.jsx)(tb.A.Item,{href:(0,p.Gp)({owner:e.ownerLogin,repo:e.name}),children:e.name}),x.map((n,r,i)=>{let a=(0,p.Gp)({owner:e.ownerLogin,repo:e.name,ref:t.name,path:i.slice(0,r+1).join("/")}),o=r===i.length-1;return(0,s.jsx)(tb.A.Item,{sx:{whiteSpace:"normal",...o?{fontWeight:"bold"}:{}},href:a,selected:o,children:n},a)})]}),(0,s.jsxs)("div",{className:"no-wrap",children:[(0,s.jsx)("span",{className:"mr-2 ml-0 ml-sm-2 fgColor-default",children:"on"}),(0,s.jsx)($.A,{href:(0,p.IO)({repo:e,commitish:t.name,action:"tree"}),children:m})]})]})}),!n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eQ.A,{as:"h2",className:"sr-only",children:"Branch selector"}),(0,s.jsx)(tj.PI,{cacheKey:t.listCacheKey,canCreate:!1,hotKey:"w",currentCommitish:t.name,getHref:t=>(0,p.Gp)({owner:e.ownerLogin,repo:e.name,ref:t}),selectedRefType:t.refType,defaultBranch:e.defaultBranch,owner:e.ownerLogin,repo:e.name,idEnding:"commits"})]}),(0,s.jsxs)("div",{className:"d-flex flex-column flex-sm-row gap-2",children:[(0,s.jsx)(eQ.A,{as:"h2",className:"sr-only",children:"User selector"}),(0,s.jsx)(t_.T,{defaultText:"All users",width:"medium",usersState:f,showTypedInUser:!0,currentUser:r??void 0,onOpenChange:e=>e,onSelect:e=>{e.login!==r?.login&&u(tI({author:e.login},["author","before","after"]))},renderCustomFooter:()=>(0,s.jsx)(Q.l.LinkItem,{href:tI({},["author"]),children:"View commits for all users"})}),(0,s.jsxs)(c.Suspense,{fallback:(0,s.jsx)(T.Q,{leadingVisual:tL,trailingVisual:k.TriangleDownIcon,children:"All time"}),children:[(0,s.jsx)(eQ.A,{as:"h2",className:"sr-only",children:"Datepicker"}),(0,s.jsx)(tA,{variant:"range",value:h,maxDate:new Date,minDate:new Date(e.createdAt),showTodayButton:!0,showClearButton:!0,compressedHeader:!0,onChange:e=>{if(!e){u(tI({},["since","until"]));return}let t=function(e){if(e)return{startDate:(0,tk.x)(e.from,{representation:"date"}),endDate:(0,tk.x)(e.to,{representation:"date"})}}(e);if(!t)return;let{startDate:n,endDate:r}=t;u(tI({since:n,until:r},["before","after"]))},placeholder:"All time",anchor:({children:e,...t})=>(0,s.jsx)(T.Q,{...t,"data-testid":"date-picker-commits",leadingVisual:tL,trailingVisual:k.TriangleDownIcon,children:e})})]})]})]})}try{tA.displayName||(tA.displayName="DatePicker")}catch{}try{tL.displayName||(tL.displayName="StyledCalendarIcon")}catch{}try{tT.displayName||(tT.displayName="ListHeader")}catch{}var tE=n(6185);function tR({paginationInfo:e}){let t=e.hasPreviousPage,n=e.hasNextPage,r=e=>e?{"aria-disabled":!0,sx:{backgroundColor:"transparent",border:"none",cursor:"default",color:"primer.fg.disabled",fontWeight:"normal"},onClick:e=>e.preventDefault()}:{};return t||n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eQ.A,{as:"h2",className:"sr-only",children:"Pagination"}),(0,s.jsx)("div",{className:"d-flex flex-justify-center mt-2",children:(0,s.jsxs)(tE.A,{children:[(0,s.jsx)(T.Q,{as:C.N,to:tF(e,!1),className:"fgColor-accent text-normal",...r(!t),tabIndex:0,variant:"invisible","data-testid":"pagination-prev-button",leadingVisual:t?()=>(0,s.jsx)(V.A,{icon:k.ChevronLeftIcon,className:"fgColor-accent"}):null,children:"Previous"}),(0,s.jsx)(T.Q,{as:C.N,to:tF(e,!0),className:"fgColor-accent text-normal",...r(!n),tabIndex:0,variant:"invisible","data-testid":"pagination-next-button",trailingVisual:n?()=>(0,s.jsx)(V.A,{icon:k.ChevronRightIcon,className:"fgColor-accent"}):null,children:"Next"})]})})]}):null}function tF(e,t){return tI(t?{after:e.endCursor}:{before:e.startCursor},[t?"before":"after"])}try{tR.displayName||(tR.displayName="Pagination")}catch{}var tP=n(31881);function tB({children:e,title:t}){return(0,s.jsxs)(tP.M,{rowGap:"none",children:[(0,s.jsx)(tP.M.Header,{divider:"line",sx:{mb:3},children:(0,s.jsx)("div",{className:"d-flex flex-items-center flex-justify-between",children:(0,s.jsx)(eQ.A,{as:"h1",className:"f2 text-normal pb-2",id:"commits-pagehead",children:t})})}),(0,s.jsx)(tP.M.Content,{as:"div",children:(0,s.jsx)("div",{children:e})})]})}try{tB.displayName||(tB.displayName="Layout")}catch{}var tH=n(71078);function tM(){let e=(0,o.t)(),t=(0,R.D)(),n=(0,d.B)(),r=n.filters,i=n.commitGroups,a=n.metadata.softNavToCommit,l=`There isn't any commit history to show here${null!==r.since||null!==r.until?" for the selected date range":""}`;return(0,c.useEffect)(()=>{if(!g.fV.hash&&window.scrollY>0){let e=document.querySelector("#commits-pagehead");e?.scrollIntoView()}},[n.filters.pagination,n.filters.since,n.filters.until]),(0,s.jsx)(to,{filters:n.filters,children:(0,s.jsxs)(tB,{title:"Commits",children:[(0,s.jsx)(tT,{repo:e,contributorsUrl:n.metadata.deferredContributorUrl,since:r.since,until:r.until,author:r.author,refInfo:n.refInfo,path:r.currentBlobPath,sx:{mb:3}}),0===i.length&&(0,s.jsx)(tH.M,{timeoutMessage:n.timedOutMessage,unavailableMessage:l}),i.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ty,{commitGroups:i,deferredDataUrl:n.metadata.deferredDataUrl,softNavToCommit:a}),(0,s.jsx)(tR,{paginationInfo:r.pagination})]}),n.metadata.showProfileHelp&&(0,s.jsx)(ta,{url:`${t.helpUrl}/articles/troubleshooting-commits-on-your-timeline`})]})})}try{tM.displayName||(tM.displayName="Commits")}catch{}(0,a.Q)("commits",()=>({App:m,routes:[(0,i.a)({path:"/:owner/:repo/commits",Component:tM}),(0,i.a)({path:"/:owner/:repo/commits/:ref",Component:tM}),(0,i.a)({path:"/:owner/:repo/commits/:ref/:path/*",Component:tM}),(0,i.a)({path:"/:owner/:repo/commit/:oid",Component:ti}),(0,i.a)({path:"/:owner/:repo/commit/:oid/:path/*",Component:ti}),(0,i.a)({path:"/_view_fragments/Voltron::CommitFragmentsController/show/:owner/:repo/:name/repo_layout",Component:ti})]}))},87213:(e,t,n)=>{n.d(t,{I:()=>l,w:()=>o});var r=n(20594),i=n(28784),a=n(96540),s=n(23925);function o(e,t){let[n,o]=(0,a.useState)(s.UI);return(0,a.useEffect)(()=>{if(!e)return;let t=!1;return(async()=>{o(s.UI);let n=await (0,i.Sr)((0,r.RD)(e));if(!t)try{if(n.ok){let e=await n.json();e.loading=!1,e&&((0,r.Av)(e),o(e))}else o(s.Xx)}catch(e){o(s.Xx)}})(),function(){t=!0}},[e,t]),n}function l(e){let[t,n]=(0,a.useState)(null);return(0,a.useEffect)(()=>{e&&(async()=>{let t=await (0,i.Sr)((0,r.RD)(e));try{if(t.ok){let e=await t.json();e&&((0,r.Av)(e),n(e.data))}}catch(e){}})()},[e]),t}},84928:(e,t,n)=>{n.d(t,{W:()=>a});var r=n(96540),i=n(20826);function a(e,t){let n=(0,i.H)(e,t);return(0,r.useCallback)(async r=>{let i=t;if(!n)throw Error(`No authenticity token found for method ${i} and path ${e}`);return r||(r={}),s(r,"X-Requested-With","XMLHttpRequest"),r.body instanceof URLSearchParams&&"delete"===i&&(r.body.append("_method","delete"),i="post"),r.body instanceof URLSearchParams||r.body instanceof FormData?r.body.append("authenticity_token",n):s(r,"Scoped-CSRF-Token",n),await fetch(e,{...r,method:i})},[e,t,n])}function s(e,t,n){e.headers??(e.headers=new Headers);let r=e.headers;if(r instanceof Headers)r.set(t,n);else if(Array.isArray(r)){let e=r.findIndex(([e])=>e===t);-1===e?r.push([t,n]):r[e]=[t,n]}else r[t]=n}},52876:(e,t,n)=>{n.d(t,{T:()=>j});var r=n(74848),i=n(22868),a=n(59857),s=n(281),o=n(75177),l=n(30729),d=n(17909),c=n(44981),m=n(38553),u=n(65481),f=n(96540),h=n(76024);let p=f.memo(function({user:e,isCurrent:t,onSelect:n}){return(0,r.jsxs)(d.l.Item,{selected:t,onSelect:()=>{n&&n(e)},children:[(0,r.jsx)(d.l.LeadingVisual,{children:(0,r.jsx)(i.r,{src:e.primaryAvatarUrl,square:e.path.startsWith("/apps/")})}),e.login,(0,r.jsx)(d.l.Description,{children:e.name})]})});try{p.displayName||(p.displayName="UserItem")}catch{}function x(e){return e.users.length>20?(0,r.jsx)(y,{...e}):(0,r.jsx)(g,{...e})}function g({users:e,currentUser:t,onSelect:n,sx:i={}}){return(0,r.jsx)(o.A,{sx:{maxHeight:330,overflowY:"auto",...i},children:e.map(e=>(0,r.jsx)(p,{user:e,isCurrent:e.login===t?.login,onSelect:n},e.login))})}function y({users:e,currentUser:t,onSelect:n,sx:i={}}){return(0,r.jsx)(h.F,{items:e,itemHeight:33,sx:{maxHeight:330,overflowY:"auto",...i},makeKey:e=>e.login,renderItem:e=>(0,r.jsx)(p,{user:e,isCurrent:e.login===t?.login,onSelect:n},e.login)})}try{x.displayName||(x.displayName="UsersList")}catch{}try{g.displayName||(g.displayName="FullUsersList")}catch{}try{y.displayName||(y.displayName="VirtualUsersList")}catch{}function j(e){let{defaultText:t,usersState:n,currentUser:c,onSelect:m,hotKey:u,onOpenChange:h,renderCustomFooter:p,size:g,showTypedInUser:y=!1,width:j="large",label:C=""}=e,[N,S]=(0,f.useState)(""),D=function(e,t){if(!e)return[];let n=t.trim().toLowerCase();return n?e.filter(e=>e.login.toLowerCase().includes(n)||e.name?.toLowerCase().includes(n)):e}(n.users,N);return(0,r.jsx)("div",{children:(0,r.jsxs)(s.W,{onOpenChange:h,children:[(0,r.jsx)(s.W.Button,{"data-hotkey":u,size:g,"data-testid":"user-selector-button",children:(0,r.jsxs)(o.A,{sx:{display:"flex"},children:[(0,r.jsx)(o.A,{sx:{mr:2},children:c?(0,r.jsx)(i.r,{size:16,src:c.primaryAvatarUrl,square:c.path.startsWith("/apps/")}):(0,r.jsx)(l.A,{icon:a.PeopleIcon,size:"small",sx:{color:"fg.muted"}})}),(0,r.jsx)(o.A,{sx:{maxWidth:125,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:c?(0,r.jsxs)("span",{children:[C,c.login]}):(0,r.jsx)("span",{children:t})})]})}),(0,r.jsx)(s.W.Overlay,{width:j,children:(0,r.jsxs)(d.l,{showDividers:!0,selectionVariant:"single",children:[(0,r.jsx)(_,{defaultText:N,onFilterChange:S}),(0,r.jsx)(d.l.Divider,{}),n.loading?(0,r.jsx)(b,{}):n.error?(0,r.jsx)(v,{}):0===D.length?(0,r.jsx)(w,{showTypedInUser:y,filterText:N,onSelect:m}):(0,r.jsx)(x,{users:D,currentUser:c,onSelect:m,sx:p?{pb:"10px",pt:1}:{pt:1}}),p&&(0,r.jsx)(d.l.Divider,{sx:{marginTop:0}}),p?.()]})})]})})}function _({onFilterChange:e,defaultText:t}){return(0,r.jsx)(d.l.Group,{sx:{px:2},children:(0,r.jsx)(c.A,{leadingVisual:a.SearchIcon,value:t,sx:{width:"100%"},placeholder:"Find a user...",onChange:t=>e(t.target.value)})})}function b(){return(0,r.jsx)(o.A,{sx:{display:"flex",justifyContent:"center",p:2},children:(0,r.jsx)(m.A,{size:"medium","aria-label":"Loading users..."})})}function v(){return(0,r.jsx)(u.A,{variant:"danger",children:"Could not load users"})}function w({showTypedInUser:e,filterText:t,onSelect:n}){return e?(0,r.jsx)(d.l.Item,{sx:{display:"flex",justifyContent:"center",mb:2},onSelect:()=>{n&&n({login:t,name:t,path:"",primaryAvatarUrl:""})},children:(0,r.jsxs)(r.Fragment,{children:["Filter on author\xa0",(0,r.jsx)(o.A,{as:"span",sx:{fontWeight:600},children:t})]})}):(0,r.jsx)(o.A,{sx:{p:3,display:"flex",justifyContent:"center"},children:"Nothing to show"})}try{j.displayName||(j.displayName="UserSelector")}catch{}try{_.displayName||(_.displayName="UserFilter")}catch{}try{b.displayName||(b.displayName="Loading")}catch{}try{v.displayName||(v.displayName="LoadingFailed")}catch{}try{w.displayName||(w.displayName="UsersZeroState")}catch{}},71078:(e,t,n)=>{n.d(t,{M:()=>m});var r=n(74848),i=n(38510),a=n(67726),s=n(59857),o=n(44981),l=n(14271),d=n(7512);let c={timeout:{description:"Try reloading the page, or if the problem persists, view the history locally using this command:",heading:"Commit history cannot be loaded",icon:(0,r.jsx)(s.AlertIcon,{size:"medium",className:"mb-2 fgColor-muted"}),showTextInput:!0},unavailable:{description:"There isn't any commit history to show here.",heading:"No commits history",icon:(0,r.jsx)(s.GitCommitIcon,{size:"medium"}),showTextInput:!1}};function m({timeoutMessage:e,unavailableMessage:t}){let n=c[""!==e?"timeout":"unavailable"],m=t??n.description;return(0,r.jsx)(d.Z,{children:(0,r.jsx)("div",{"data-hpc":!0,children:(0,r.jsxs)(l.A,{border:!1,spacious:!0,children:[(0,r.jsx)(l.A.Visual,{children:n.icon}),(0,r.jsx)(l.A.Heading,{children:n.heading}),(0,r.jsx)(l.A.Description,{children:m}),n.showTextInput&&(0,r.jsx)(o.A,{"aria-label":"View commit history locally command",className:"d-flex flex-justify-center mt-2",monospace:!0,onChange:a.l,readOnly:!0,size:"large",trailingAction:(0,r.jsx)(o.A.Action,{onClick:()=>(0,i.D)(e),icon:s.CopyIcon,"aria-label":"Copy to clipboard",className:"fgColor-muted"}),value:e})]})})})}try{m.displayName||(m.displayName="CommitsBlankState")}catch{}},86233:(e,t,n)=>{n.d(t,{a:()=>r});function r({path:e,Component:t,shouldNavigateOnError:n,transitionType:r,children:i}){return{path:e,Component:t,coreLoader:async function({location:e}){let t;try{let n=`${e.pathname}${e.search}`;t=await window.fetch(n,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-GitHub-Target":"dotcom","X-React-Router":"json"}})}catch(e){return{type:n?"route-handled-error":"error",error:{type:"fetchError"}}}if(t.redirected)return{type:"redirect",url:t.url};if(!t.ok)return{type:n?"route-handled-error":"error",error:{type:"httpError",httpStatus:t.status}};try{let e=await t.json();return{type:"loaded",data:e,title:e.title}}catch(e){return{type:n?"route-handled-error":"error",error:{type:"badResponseError"}}}},loadFromEmbeddedData:function({embeddedData:e}){return{data:e,title:e.title}},transitionType:r,children:i}}}},e=>{var t=t=>e(e.s=t);e.O(0,["react-lib","primer-react-css","vendors-node_modules_dompurify_dist_purify_js","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_primer_octicons-react_di-b40d97","vendors-node_modules_primer_react_lib-esm_Box_Box_js","vendors-node_modules_primer_react_lib-esm_Button_Button_js","vendors-node_modules_primer_react_lib-esm_TooltipV2_Tooltip_js","vendors-node_modules_clsx_dist_clsx_m_js-node_modules_primer_react_node_modules_primer_octico-c56103","vendors-node_modules_primer_react_lib-esm_ActionList_index_js","vendors-node_modules_primer_react_lib-esm_ActionMenu_ActionMenu_js-node_modules_primer_react_-5b2420","vendors-node_modules_primer_react_lib-esm_Text_Text_js-node_modules_primer_react_lib-esm_Text-7845da","vendors-node_modules_primer_react_lib-esm_FormControl_FormControl_js","vendors-node_modules_github_catalyst_lib_index_js-node_modules_github_hydro-analytics-client_-7901e7","vendors-node_modules_react-router-dom_dist_index_js","vendors-node_modules_primer_behaviors_dist_esm_focus-zone_js","vendors-node_modules_primer_react_lib-esm_FilteredActionList_FilteredActionList_js","vendors-node_modules_github_relative-time-element_dist_index_js","vendors-node_modules_primer_react_lib-esm_ConfirmationDialog_ConfirmationDialog_js","vendors-node_modules_react-relay_index_js","vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_stack-68835d","vendors-node_modules_primer_react_lib-esm_Heading_Heading_js-node_modules_primer_react_lib-es-96435f","vendors-node_modules_date-fns_format_mjs","vendors-node_modules_date-fns_addWeeks_mjs-node_modules_date-fns_addYears_mjs-node_modules_da-827f4f","vendors-node_modules_primer_react_lib-esm_Avatar_Avatar_js-node_modules_primer_react_lib-esm_-b1b3d3","vendors-node_modules_primer_react_lib-esm_Popover_Popover_js-node_modules_primer_react_node_m-f90d9a","vendors-node_modules_primer_behaviors_dist_esm_anchored-position_js-node_modules_fzy_js_index-05960a","vendors-node_modules_primer_react_lib-esm_Button_LinkButton_js-node_modules_primer_react_lib--909e5c","vendors-node_modules_primer_react_lib-esm_AvatarStack_AvatarStack_js-node_modules_primer_reac-685469","vendors-node_modules_github_quote-selection_dist_index_js-node_modules_primer_react_lib-esm_B-b2cbdb","ui_packages_react-core_register-app_ts","ui_packages_relay-environment_relay-environment_ts","ui_packages_list-view_src_ListItem_ListItem_tsx-ui_packages_list-view_src_ListItem_Title_tsx--68e5b9","ui_packages_date-picker_date-picker_ts-ui_packages_github-avatar_GitHubAvatar_tsx","ui_packages_item-picker_components_RepositoryPicker_tsx","ui_packages_issue-create_dialog_CreateIssueDialogEntry_tsx","ui_packages_ref-selector_RefSelector_tsx","ui_packages_analytics-provider_analytics-provider_ts-ui_packages_commenting_hooks_use-markdow-5cb9ce","ui_packages_commit-attribution_index_ts-ui_packages_commit-checks-status_index_ts-ui_packages-f45efb","ui_packages_react-core_create-browser-history_ts-ui_packages_safe-storage_safe-storage_ts-ui_-11450c","ui_packages_diff-file-header_diff-file-header_ts-ui_packages_diff-file-tree_diff-file-tree_ts-7f5a83"],()=>t(33938)),e.O()}]);
//# sourceMappingURL=commits-a423f6ee983b.js.map